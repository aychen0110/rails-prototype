-# TODO: refactor CSS assignment out of view

= content_tag_for(:div, @bit, { :class => @bit.type.downcase,  :style => "left: #{ @bit.position_x}px; top: #{ @bit.position_y}px;", :"data-bit-id" => @bit.id} ) do 
  .container 

    .face.front{ :class => (@bit.color if @bit.color.present?) }
      .content
        - if @bit.image.present?
          .zoom
            %a{ :href => @bit.image_url() } 
              = image_tag @bit.image_url(:thumb), :id => "bit_image_#{ @bit.id }"

        - else
          = @bit.content

    .face.back
      .content
        = link_to 'Edit', edit_bit_path(@bit), :remote => true, :class => 'edit_bit'
        

    %p.ui-widget-header
